---
import { getHeroContent } from '../utils/theme';

const { siteName, siteTagline } = Astro.props;

const heroContent = getHeroContent({
  THEME_VARIANT: import.meta.env.THEME_VARIANT,
  HERO_VIDEO_URL: import.meta.env.HERO_VIDEO_URL,
  HERO_IMAGE_URL: import.meta.env.HERO_IMAGE_URL,
});
---

<section class="relative min-h-[60vh] lg:min-h-[70vh] flex items-center justify-center overflow-hidden bg-gray-900">
  {/* Background - Video or Image */}
  <div class="absolute inset-0">
    {heroContent.type === 'video' ? (
      <video
        autoplay
        muted
        loop
        playsinline
        class="w-full h-full object-cover opacity-40"
      >
        <source src={heroContent.url} type="video/mp4" />
        {/* Fallback to image if video fails */}
        <img
          src={import.meta.env.HERO_IMAGE_URL || 'https://images.unsplash.com/photo-1551836022-deb4988cc6c0?w=1920'}
          alt={siteName}
          class="w-full h-full object-cover opacity-50"
        />
      </video>
    ) : (
      <img
        src={heroContent.url}
        alt={siteName}
        class="w-full h-full object-cover opacity-50"
        loading="eager"
      />
    )}
    <div class="absolute inset-0 bg-gradient-to-b from-black/70 via-black/50 to-black/70"></div>
  </div>

  {/* Content */}
  <div class="relative z-10 text-center px-4 max-w-4xl mx-auto">
    <h1 class="text-5xl lg:text-7xl font-bold text-white mb-6 animate-fade-in">
      {siteName}
    </h1>
    <p class="text-xl lg:text-2xl text-gray-200 font-light animate-fade-in-delay">
      {siteTagline}
    </p>

    {/* Scroll indicator */}
    <div class="mt-12 animate-bounce">
      <svg class="w-8 h-8 mx-auto text-white/75" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
      </svg>
    </div>
  </div>
</section>

<style>
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fade-in 0.8s ease-out;
  }

  .animate-fade-in-delay {
    opacity: 0;
    animation: fade-in 0.8s ease-out 0.3s forwards;
  }
</style>
